<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0,maximum-scale=1">
    <link rel="icon" href="../favicon.ico" type="image/x-icon">
    <title>「猜中数字」你用几次</title>
    <script>
        var _hmt = _hmt || [];
        (function() {
          var hm = document.createElement("script");
          hm.src = "https://hm.baidu.com/hm.js?c6a16e7744f5e96b195b98f5a2818207";
          var s = document.getElementsByTagName("script")[0]; 
          s.parentNode.insertBefore(hm, s);
        })();
    </script>
    <style>
        *{
            margin:0;
            padding:0;
        }
        body,html{
            -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
        }
        .unselectable {
            user-select: none;
            -moz-user-select: none;
            -webkit-user-select: none;
            -ms-user-select: none;
        }
        .content{
            position:absolute;
            top:50%;
            left:50%;
            margin-top:-294px;
            margin-left:-180px;
            width:360px;
            height:588px;
            /* border:1px solid green; */
        }
        .tips{
            height:80px;
            text-align: center;
            font-size:24px;
            color:#333;
        }
        #tips3{
            margin-top:25px;
            margin-bottom:25px;
            color:#EF6140;
        }
        .numBox{
            font-size:18px;
            text-align: center;
            color:#333;
        }
        .numBox button{
            display: inline-block;
            margin-right:4px;
            width:30px;
            height:30px;
            background-color: #fff;
            line-height: 30px;
            border:1px solid #999;
            border-radius: 17px;
            cursor: pointer;
        }
        .numBox p{
            margin-bottom:10px;
        }
        .numBox p>button:nth-child(10){
            margin-right:0px;
        }
        #nowNum{
            font-size:32px;
            font-style: normal;
            color:#EF6140;
            font-weight:bold;
        }
        .btnBox{
            text-align: center;
        }
        #button{
            margin-top:28px;
            display:inline-block;
            width:150px;
            height:50px;
            font-size:24px;
            line-height: 50px;
            text-align: center;
            border:1px solid #EF6140;
            color:#EF6140;
            cursor: pointer;
            border-radius: 10px;
        }
        #random{
            position:fixed;
            bottom:0;
            left:0;
            text-indent: 30px;
            color:#fff;
            font-size:30px;
            cursor: pointer;
        }
        #mask{
            display:none;
            position:fixed;
            top:0;
            left:0;
            width:100%;
            height:100vh;
            background: rgba(0,0,0,.5);
            z-index: 100;
        }
        #tipBox{
            display:none;
            position:absolute;
            top:50%;
            left:50%;
            margin-top:-50px;
            margin-left:-150px;
            padding:15px 0;
            width:300px;
            height:100px;
            background-color: #fff;
            text-align: center;
            z-index: 101;
            font-size:20px;
            border:1px solid #EF6140;
            border-radius: 10px;
        }
        #tipBox h4{
            margin-bottom:20px;
            color:red;
            font-size:30px;
        }
        #modelBox{
            display:none;
            position:absolute;
            top:50%;
            left:50%;
            margin-top:-120px;
            margin-left:-160px;
            width:320px;
            height:240px;
            background-color: #fff;
            border-radius: 10px;
            z-index: 101;
        }
        #modelBox h4{
            margin-top:20px;
            margin-bottom:5px;
            color:green;
            font-size:30px;
            text-align: center;
        }
        #result{
            margin-top:15px;
            height:90px;
            font-size:20px;
            padding:5px 10px 0 10px;
            text-align: justify;
        }
        .modelButton{
            text-align: center;
        }
        .modelButton span{
            display:inline-block;
            width:130px;
            height:40px;
            font-size:24px;
            line-height: 40px;
            text-align: center;
            border:1px solid #EF6140;
            cursor: pointer;
            border-radius: 6px;
        }
        /* #back{
            margin-right:70px;
        } */
    </style>
</head>
<body class="unselectable">
    <audio id="myAudio" src="assets/mp3/failed.mp3"></audio>
    <div class="content">
        <div class="tips" id="tips2">选数字：<em id="nowNum">??</em></div>
        <div class="numBox">
            <p><button>1</button><button>2</button><button>3</button><button>4</button><button>5</button><button>6</button><button>7</button><button>8</button><button>9</button><button>10</button></p>
            <p><button>11</button><button>12</button><button>13</button><button>14</button><button>15</button><button>16</button><button>17</button><button>18</button><button>19</button><button>20</button></p>
            <p><button>21</button><button>22</button><button>23</button><button>24</button><button>25</button><button>26</button><button>27</button><button>28</button><button>29</button><button>30</button></p>
            <p><button>31</button><button>32</button><button>33</button><button>34</button><button>35</button><button>36</button><button>37</button><button>38</button><button>39</button><button>40</button></p>
            <p><button>41</button><button>42</button><button>43</button><button>44</button><button>45</button><button>46</button><button>47</button><button>48</button><button>49</button><button>50</button></p>
            <p><button>51</button><button>52</button><button>53</button><button>54</button><button>55</button><button>56</button><button>57</button><button>58</button><button>59</button><button>60</button></p>
            <p><button>61</button><button>62</button><button>63</button><button>64</button><button>65</button><button>66</button><button>67</button><button>68</button><button>69</button><button>70</button></p>
            <p><button>71</button><button>72</button><button>73</button><button>74</button><button>75</button><button>76</button><button>77</button><button>78</button><button>79</button><button>80</button></p>
            <p><button>81</button><button>82</button><button>83</button><button>84</button><button>85</button><button>86</button><button>87</button><button>88</button><button>89</button><button>90</button></p>
            <p><button>91</button><button>92</button><button>93</button><button>94</button><button>95</button><button>96</button><button>97</button><button>98</button><button>99</button><button>100</button></p>
        </div>
        <div class="btnBox">
            <span id="button">确认</button>
        </div>
    </div>
    <div id="random">00</div>
    <div id="mask"></div>
    <div id="modelBox">
        <h4>猜对了</h4>
        <div id="result"></div>
        <div class="modelButton">
            <!-- <span id="back">取消</button> -->
            <span id="goon">继续</button>
        </div>
    </div>
    <div id="tipBox">
        <h4>不对</h4>
        <div id="errTip">第3次猜错了，比67要大</div>
    </div>
    <script>
        function generateRandomInt(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }
        // 生成1到100之间的随机整数
        const randomInt = generateRandomInt(1, 100);
        
        // console.log(randomInt);
        var tips2 = document.getElementById("tips2");
        var tips3 = document.getElementById("tips3");
        var button = document.getElementById("button");
        var spans = document.getElementsByTagName("button");
        var nowNum = document.getElementById("nowNum");
        var random = document.getElementById("random");
        var result = document.getElementById("result");
        // var backBtn = document.getElementById("back");
        var goonBtn = document.getElementById("goon");
        var modelBox = document.getElementById("modelBox");
        var mask = document.getElementById("mask");
        var myAudio = document.getElementById("myAudio");
        var errTip = document.getElementById("errTip");
        var tipBox = document.getElementById("tipBox");
        var content = document.getElementsByClassName("content")[0];
        var selectNum = 0;
        var time = 0;
        var say = "";
        random.innerHTML = randomInt;

        for(var index=0;index<spans.length;index++){
            (function(i){
                spans[i].onclick = function(){
                    selectNum = spans[i].innerHTML;
                    // console.log(selectNum);
                    nowNum.innerHTML = selectNum;
                    myAudio.src="assets/mp3/dianji.wav";
                    myAudio.play();
                }
            })(index)
        }
        button.onclick = function(){
            if(selectNum==""){
                return false;
            }
            spans[selectNum-1].setAttribute("disabled","disabled");
            // spans[selectNum-1].style.backgroundColor = "#EF6140";
            // spans[selectNum-1].style.color = "#EF6140";
            if(selectNum!=randomInt&&selectNum<randomInt){
                time+=1;
                // mask.style.display = "block";
                for(var m=0;m<selectNum;m++){
                    spans[m].setAttribute("disabled","disabled");
                }
                content.style.display = "none";
                tipBox.style.display = "block";
                errTip.innerHTML = '错 '+ time +" 次，比 "+selectNum+" 大";
                myAudio.src="assets/mp3/failed.mp3";
                myAudio.play();
                setTimeout(function(){
                    // mask.style.display = "none";
                    content.style.display = "block";
                    tipBox.style.display = "none";
                },1500)
                clearTimeout();
            }else if(selectNum!=randomInt&&selectNum>randomInt){
                time+=1;
                for(var n=selectNum-1;n<100;n++){
                    spans[n].setAttribute("disabled","disabled");
                }
                // mask.style.display = "block";
                content.style.display = "none";
                tipBox.style.display = "block";
                errTip.innerHTML = '错 '+ time +"次 ，比 "+selectNum+" 小";
                myAudio.src="assets/mp3/failed.mp3";
                myAudio.play();
                setTimeout(function(){
                    // mask.style.display = "none";
                    content.style.display = "block";
                    tipBox.style.display = "none";
                },1500)
                clearTimeout();
            }else{
                time+=1;
                spans[selectNum-1].style.borderColor = "#EF6140";
                spans[selectNum-1].style.backgroundColor = "#EF6140";
                spans[selectNum-1].style.color = "#fff";
                button.style.display = "none";
                mask.style.display = "block";
                modelBox.style.display = "block";
                document.getElementsByClassName("tips")[0].innerHTML = "没错是数字 "+randomInt;
                if(time==1){
                    say = "你也太厉害了，怎么做到的";
                }else if(1<time&&time<=5){
                    say = "5次以内猜中都算很棒，点赞";
                }else if(3<time&&time<=10){
                    say = "10次以内猜中也给你👍";
                }else{
                    say = "你竟然猜了"+time+"次...不做评价";
                }
                result.innerHTML = "您在第( "+time+" )次猜对了，"+say+" ，再来一局吧";
                myAudio.src="assets/mp3/yeyes.mp3";
                myAudio.play();
            }
        }

        
        
        // backBtn.onclick = function(){
        //     window.location.href = "./ideas.html";
        // }
        goonBtn.onclick = function(){
            window.location.reload();
            mask.style.display = "none";
            modelBox.style.display = "none";
        }

        random.ondblclick = function(){
            random.style.color = "#EF6140";
            setTimeout(function(){
                random.style.color = "#fff"; 
            },300);
            clearTimeout();
        }
    </script>
    
</body>
</html>